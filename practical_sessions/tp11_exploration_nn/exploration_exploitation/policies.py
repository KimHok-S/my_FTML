import numpy as np
from agent import Agent

def random_policy(agent: Agent) -> str:
    """
    Policy of the agent
    return "left", "right", or "none"
    """
    actions = ["left", "right", "none"]
    # random action without none
    action = np.random.choice(actions[:-1])
    assert action in actions
    return action


epsilon = 0.35
def epsilon_greedy_policy(agent: Agent) -> str:
    """
    Policy of the agent
    return "left", "right", or "none"
    """
    actions = ["left", "right", "none"]
    if np.random.rand() < epsilon:
        action = np.random.choice(actions)
    else:
        # greedy action
        action = np.argmax(agent.known_rewards)
        if action - agent.position > 0:
            action = "right"
        elif action - agent.position < 0:
            action = "left"
        else:
            action = "none"
    assert action in actions
    return action

def custom_policy(agent: Agent) -> str:
    """
    Policy of the agent
    return "left", "right", or "none"
    """
    actions = ["left", "right", "none"]
    if np.random.rand() < epsilon:
        action = np.random.choice(actions)
    else:
        # greedy action
        action = np.argmax(agent.known_rewards)
        if action - agent.position > 0:
            action = "right"
        elif action - agent.position < 0:
            action = "left"
        else:
            action = "none"
    assert action in actions
    return action